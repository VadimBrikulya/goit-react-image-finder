{"version":3,"sources":["components/Button/Button.module.css","components/Modal/Modal.module.css","components/Searchbar/Searchbar.js","services/fetchAPI.js","components/Button/Button.js","components/ImageGallery/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","components/App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","state","query","handleSubmit","e","preventDefault","props","onSubmit","setState","handleChange","currentTarget","value","this","className","s","searchBar","searchForm","type","searchFormButton","searchFormButtonLabel","searchFormInput","onChange","Component","baseURL","fetchImg","currentPage","url","axios","get","then","data","hits","Button","onClick","isLoading","button","loader","color","height","width","visible","ImageGalleryItem","webformatURL","onToggleModal","largeImageURL","imageGalleryItem","src","alt","imageGalleryItemImage","modalRoot","document","querySelector","Modal","handleKeyDown","code","onCloseModal","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","backdrop","modal","children","ImageGallery","images","error","showModal","status","fetchImages","options","prevState","catch","err","finally","toggleModal","handleModalImage","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","showButton","length","imageGallery","map","id","App","handleSubmitSearchbar","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.e67ee02d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1mw8b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1zd5d\",\"modal\":\"Modal_modal__3bqFI\"};","import { Component } from 'react';\n\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  handleChange = ({ currentTarget }) => {\n    this.setState({\n      query: currentTarget.value,\n    });\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <header className={s.searchBar}>\n        <form className={s.searchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.searchFormButton}>\n            <span className={s.searchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.searchFormInput}\n            type=\"text\"\n            value={query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import axios from 'axios';\n\nconst apiKey = '4721358-13c427133c953f3e48d1d506d';\nconst perPage = 12;\nconst baseURL = `https://pixabay.com/api/?key=${apiKey}&image_type=photo&orientation=horizontal&per_page=${perPage}&q=`;\n\nconst fetchImg = ({ query = '', currentPage = 1 }) => {\n  const url = `${baseURL}${query}&page=${currentPage}`;\n  return axios.get(url).then(({ data }) => data.hits);\n};\n\nexport default fetchImg;\n","import Loader from 'react-loader-spinner';\nimport s from './Button.module.css';\n\nconst Button = ({ onClick, isLoading }) => {\n  return (\n    <button className={s.button} type=\"button\" onClick={onClick}>\n      <Loader\n        className={s.loader}\n        type=\"TailSpin\"\n        color=\"#00BFFF\"\n        height={20}\n        width={20}\n        visible={isLoading}\n      />\n      {isLoading ? '' : 'Load more'}\n    </button>\n  );\n};\n\nexport default Button;\n","import s from './ImageGallery.module.css';\n\nconst ImageGalleryItem = ({ webformatURL, onToggleModal, largeImageURL }) => {\n  return (\n    <li\n      className={s.imageGalleryItem}\n      onClick={() => onToggleModal(largeImageURL)}\n    >\n      <img src={webformatURL} alt=\"\" className={s.imageGalleryItemImage} />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onCloseModal();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onCloseModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.backdrop} onClick={this.handleBackdropClick}>\n        <div className={s.modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import { Component } from 'react';\nimport fetchImg from '../../services/fetchAPI';\n\nimport Button from '../Button/Button';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport Modal from '../Modal/Modal';\nimport s from './ImageGallery.module.css';\n\nclass ImageGallery extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    isLoading: false,\n    error: null,\n    showModal: false,\n    largeImageURL: null,\n    status: 'idle',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.query !== this.props.query) {\n      this.setState({ currentPage: 1, images: [], error: null }, () =>\n        this.fetchImages(),\n      );\n    }\n\n    if (prevState.currentPage !== this.state.currentPage) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  fetchImages = () => {\n    const { currentPage } = this.state;\n    const { query } = this.props;\n\n    const options = {\n      query,\n      currentPage,\n    };\n\n    this.setState({ isLoading: true });\n\n    fetchImg(options)\n      .then(images =>\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n        })),\n      )\n      .catch(err => this.setState({ err }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n    this.setState({ largeImageURL: null });\n  };\n\n  handleModalImage = url => {\n    this.toggleModal();\n    this.setState({ largeImageURL: url });\n  };\n\n  render() {\n    const {\n      showModal,\n      images,\n      error,\n      isLoading,\n      largeImageURL,\n      status,\n    } = this.state;\n    const showButton = images.length > 0;\n\n    return (\n      <>\n        {error && <h2>{error}</h2>}\n        <ul className={s.imageGallery}>\n          {images.map(({ id, webformatURL, largeImageURL }) => (\n            <ImageGalleryItem\n              key={id}\n              webformatURL={webformatURL}\n              onToggleModal={this.handleModalImage}\n              largeImageURL={largeImageURL}\n            />\n          ))}\n        </ul>\n\n        {showButton && (\n          <Button onClick={this.fetchImages} isLoading={isLoading} />\n        )}\n\n        {showModal && (\n          <Modal onCloseModal={this.toggleModal}>\n            <img src={largeImageURL} alt=\"\" />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport default ImageGallery;\n","import { Component } from 'react';\n\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport './App.css';\n\nexport default class App extends Component {\n  state = {\n    query: '',\n  };\n\n  handleSubmitSearchbar = query => {\n    this.setState({ query });\n  };\n\n  render() {\n    return (\n      <>\n        <Searchbar onSubmit={this.handleSubmitSearchbar} />\n        <ImageGallery query={this.state.query} />\n      </>\n    );\n  }\n}\n","import ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"Searchbar_searchBar__2H61T\",\"searchForm\":\"Searchbar_searchForm__1lG9x\",\"searchFormButton\":\"Searchbar_searchFormButton__2g_hv\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__17Iow\",\"searchFormInput\":\"Searchbar_searchFormInput__81QH2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__2S8yO\",\"imageGalleryItem\":\"ImageGallery_imageGalleryItem__bYn6W\",\"imageGalleryItemImage\":\"ImageGallery_imageGalleryItemImage__3sZm7\"};"],"sourceRoot":""}